<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <title>Senaryo 1</title>
  <style>
    html,
    body {
      background-image: url("{{ url_for('static', filename='images/7.jpg') }}");
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: center;
      height: 100%;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Roboto", sans-serif;
      background-color: rgba(18, 27, 45, 0.95);
      color: #ecf0f1;
      overflow: hidden;
    }

    .center-content {
      text-align: center;
      width: 85%;
      max-width: 700px;
      background-color: rgba(21, 31, 53, 0.95);
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0px 15px 35px rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(6px);
      overflow-y: auto;
      max-height: 80vh;
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    h1 {
      margin: 20px 0;
      font-size: 30px;
      color: #ecf0f1;
      font-weight: bold;
      animation: fadeInText 0.5s ease-in;
    }

    @keyframes fadeInText {
      0% {
        opacity: 0;
        transform: scale(0.9);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    p {
      margin: 20px 0;
      color: #ecf0f1;
      font-size: 18px;
      line-height: 1.6;
      text-align: justify;
    }

    .button-container {
      margin: 30px 0;
      text-align: center;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    button {
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      border-radius: 25px;
      background-color: #3868d0;
      color: white;
      cursor: pointer;
      box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.5);
      transition: background 0.3s, transform 0.2s;
    }

    button:hover {
      background: #4d80ee;
      transform: scale(1.05);
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-content {
      background-color: #151f35;
      margin: 10% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 85%;
      max-width: 500px;
      color: #ecf0f1;
      border-radius: 10px;
      text-align: center;
      animation: fadeInModal 0.5s ease-in-out;
    }

    @keyframes fadeInModal {
      from {
        opacity: 0;
        transform: scale(0.8);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .feedback-message {
      margin-top: 20px;
      font-size: 16px;
      font-weight: bold;
    }

    .feedback-success {
      color: #4caf50;
    }

    .feedback-fail {
      color: #f44336;
    }

    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #3868d0;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: #4d80ee;
    }
  </style>
</head>

<body>
  <div class="center-content">
    <div id="question1">
      <h1>SENARYO 1</h1>
      <p>
        Önemli bir uyarı almak üzeresiniz! Buzdolabınızdan şüpheli faaliyetler tespit edildi. Cihazlarınızın güvenliği
        bizim için büyük önem taşıyor. Bu nedenle, hemen kontrol etmeye hazır mısınız?
      </p>
      <div class="button-container">
        <button onclick="showQuestion('question2')">EVET sorunu çözmeye başlayalım</button>
        <button onclick="showQuestion('question3')">Hayır, daha sonra</button>
      </div>
    </div>

    <div id="question2" style="display: none">
      <p>Hadi başlayalım!</p>
      <div class="button-container">
        <button onclick="showQuestion('question4')">Trafik detaylarını inceleyin</button>
        <button onclick="showQuestion('postpone')">Çok uzun iş, sonra yaparım</button>
      </div>
    </div>

    <div id="question3" style="display: none">
      <p>
        Güvenlik sorunlarını göz ardı etmek, ağınızda daha büyük risklere yol açabilir. Sorunları hemen çözmek önemli,
        daha sonra kontrol etmek istediğine emin misin?
      </p>
      <div class="button-container">
        <button onclick="showQuestion('question4')">Vazgeçtim hemen şimdi yapalım</button>
        <button onclick="showQuestion('endScenario')">Asla, bu konuda endişelenmiyorum</button>
      </div>
    </div>

    <div id="endScenario" style="display: none">
      <p>
        Ağ güvenliği ciddiye alınması gereken bir konudur ve ihmal edilmesi, kişisel verilerin kötü niyetli kişilerin
        eline geçmesine neden olabilir. Yine de yardıma hazırız, ne zaman istersen.
      </p>
      <div class="button-container">
        <button onclick="location.href='http://127.0.0.1:5000/quiz'">Senaryoyu Bitir</button>
      </div>
    </div>

    <div id="question4" style="display: none">
      <p>
        Buzdolabının son trafiğini analiz edeceğiz. Bunu hangi araç yardımıyla yapabiliriz?
      </p>
      <div class="button-container">
        <button onclick="showQuestion('question5')">nmap</button>
        <button onclick="showQuestion('question6')">wireshark</button>
        <button onclick="showQuestion('shodan')">shodan</button>
        <button onclick="showQuestion('hydra')">hydra</button>
      </div>
    </div>

    <div id="question5" style="display: none">
      <h1 class="baslık">Nmap</h1>
      <p>Nmap, ağ keşfi ve güvenlik denetimi için kullanılan güçlü, açık kaynaklı bir araçtır.</p>
      <div class="button-container">
        <button onclick="showQuestion('question7')">Bu bilgiler bana yeterli, devam edelim</button>
        <button onclick="showQuestion('question4')">Başka araçların çıktılarını da incelemek istiyorum</button>
      </div>
    </div>

    <div id="question6" style="display: none">
      <h1 class="baslık">Wireshark</h1>
      <p>Wireshark, ağ trafiğini izlemek, analiz etmek ve sorunları gidermek için kullanılan bir ağ protokol analizörüdür.</p>
      <h2>Rastgele Veri Çekme</h2>
      <div class="table-container">
        {% if data_malicious %}
        <table>
          <thead>
            <tr>
              <th>id.orig_h</th>
              <th>id.resp_h</th>
              <th>id.resp_p</th>
              <th>proto</th>
              <th>duration</th>
              <th>orig_bytes</th>
              <th>resp_bytes</th>
              <th>history</th>
              <th>orig_pkts</th>
              <th>orig_ip_bytes</th>
              <th>resp_pkts</th>
              <th>malware_status</th>
            </tr>
          </thead>
          <tbody>
            {% for row in data_malicious %}
            <tr>
              <td>{{ row[1] }}</td>
              <td>{{ row[2] }}</td>
              <td>{{ row[3] }}</td>
              <td>{{ row[4] }}</td>
              <td>{{ row[5] }}</td>
              <td>{{ row[6] }}</td>
              <td>{{ row[7] }}</td>
              <td>{{ row[8] }}</td>
              <td>{{ row[9] }}</td>
              <td>{{ row[10] }}</td>
              <td>{{ row[11] }}</td>
              <td>{{ row[12] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <p>Veri bulunamadı.</p>
        {% endif %}
      </div>
      <div class="button-container">
        <button onclick="showQuestion('moreResearch')">İlgili IP adresini daha fazla araştırırım</button>
        <button onclick="showQuestion('disconnectFridge')">Buzdolabını ağdan çıkarırım</button>
      </div>
    </div>

    <div id="question7" style="display: none">
      <p>
        Bu bilgiler sana yeterli değil :) Başka araçları kullanmalıydın. Ne yapmak istersin?
      </p>
      <div class="button-container">
        <button onclick="showQuestion('question4')">Hadi inceleyelim</button>
        <button onclick="location.href='http://127.0.0.1:5000/quiz'">Burada bitsin, incelemek istemiyorum</button>
      </div>
    </div>

    <div id="shodan" style="display: none">
      <h1 class="baslık">Shodan</h1>
      <p>Shodan, internete bağlı cihazları ve bu cihazların sunduğu servisleri arayan bir arama motorudur.</p>
      <div class="button-container">
        <button onclick="showQuestion('question4')">Soru 4'e Geri Dön</button>
        <button onclick="location.href='http://127.0.0.1:5000/quiz'">Senaryolara Geri Dön</button>
      </div>
    </div>

    <div id="hydra" style="display: none">
      <h1 class="baslık">Hydra</h1>
      <p>Hydra, hızlı ve esnek bir parola kırma aracıdır.</p>
      <div class="button-container">
        <button onclick="showQuestion('question4')">Soru 4'e Geri Dön</button>
        <button onclick="location.href='http://127.0.0.1:5000/quiz'">Senaryolara Geri Dön</button>
      </div>
    </div>

    <div id="postpone" style="display: none">
      <p>
        Anlıyorum, şu anda başka önceliklerin olabilir. Ancak unutma, ağ güvenliğini ertelemek, beklenmedik sorunlara yol
        açabilir. Kişisel bilgilerin korunması ve ağının güvenliği için düzenli kontroller ve güncellemeler önemlidir.
      </p>
    </div>

    <div id="moreResearch" style="display: none">
      <p>IP adresi daha detaylı araştırılıyor...</p>
    </div>

    <div id="disconnectFridge" style="display: none">
      <p>Buzdolabı ağdan çıkarıldı.</p>
    </div>

    <!-- Modal structure -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <p>Bu senaryonun kazanımları:</p>
        <ul>
          <li>Ağ güvenliğinin önemi ve temel ilkeleri.</li>
          <li>Güvenlik araçlarının kullanımı ve sağladığı veriler.</li>
          <li>Ağ trafiği analizi ve şüpheli aktivitelerin tespiti.</li>
        </ul>
        <div class="button-container">
          <button onclick="handleLearned()">Öğrendim</button>
          <button onclick="handleNotLearned()">Öğrenmedim</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const checkbox1 = document.getElementById("checkbox1");
      checkbox1.checked = localStorage.getItem("checkbox1") === "true";
    });

    function syncCheckboxes(checkboxId, isChecked) {
      localStorage.setItem(checkboxId, isChecked);
      if (isChecked) {
        showModal();
      }
    }

    function showModal() {
      var modal = document.getElementById("myModal");
      modal.style.display = "block";
    }

    function closeModal() {
      var modal = document.getElementById("myModal");
      modal.style.display = "none";
    }

    function handleLearned() {
      closeModal();
      showFeedback("Tebrikler! Öğrendiğiniz için quiz sayfasına yönlendiriliyorsunuz.", "success");
      setTimeout(function () {
        location.href = 'http://127.0.0.1:5000/quiz';
      }, 2000);
    }

    function handleNotLearned() {
      closeModal();
      var checkbox1 = document.getElementById("checkbox1");
      checkbox1.checked = false;
      localStorage.setItem("checkbox1", "false");
      showFeedback("Tekrar deneyin. Quiz sayfasına yönlendiriliyorsunuz.", "fail");
      setTimeout(function () {
        location.href = 'http://127.0.0.1:5000/quiz';
      }, 2000);
    }

    function showFeedback(message, type) {
      var feedbackModal = document.getElementById("feedbackModal");
      var feedbackMessage = document.getElementById("feedbackMessage");
      feedbackMessage.textContent = message;
      if (type === "success") {
        feedbackMessage.classList.add("feedback-success");
        feedbackMessage.classList.remove("feedback-fail");
      } else {
        feedbackMessage.classList.add("feedback-fail");
        feedbackMessage.classList.remove("feedback-success");
      }
      feedbackModal.style.display = "block";
    }

    function showQuestion(questionId) {
      var questions = document.querySelectorAll(
        'div[id^="question"], div[id^="incorrectTool"], div[id^="postpone"], div[id^="moreResearch"], div[id^="disconnectFridge"]'
      );
      questions.forEach(function (question) {
        question.style.display = "none";
      });
      document.getElementById(questionId).style.display = "block";
    }
  </script>
</body>

</html>
